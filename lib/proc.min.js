__URL__="http://swlab.ueab.ac.ke/concept/",$(function(){$("#add_driver").on("click",function(){var e=$("#licence_number").val(),i=$("#licence_owner").val(),a=$("#owner_id").val(),c=$("#licence_class").val(),r=$("#licence_year").val(),_=$("#licence_expiry").val();!e||e.length<5?$("#licence_number").focus():!i||i.length<3?$("#licence_owner").focus():!a||a.length<5?$("#owner_id").focusin():c?!r||r.length<4?$("#licence_year").focus():!_||_.length<4?$("#licence_expiry").focus():($("#add_driver").hide(),$.ajax({url:__URL__+"proc/add_driver.php",data:{licence_number:e,licence_owner:i,owner_id:a,licence_class:c,licence_year:r,licence_expiry:_},dataType:"jsonp",success:function(e){$("#add_driver").show(),$("#add_driver_response").html(""),$("#add_driver_response").html(e.data.message),setTimeout(function(){$("#add_driver_response").html("")},1e4)}})):$("#licence_class").focus()}),$("#add_driver_history").on("click",function(){var e=$("#driver_id").val(),i=now(),a=localStorage.getItem("userID"),c=$("#officer_comment").val();e?!c||c.length<5?$("#officer_comment").focus():($("#add_driver_history").hide(),$.ajax({url:__URL__+"proc/add_driver_history.php",data:{driver_id:e,event_date:i,officer_id:a,officer_comment:c},dataType:"jsonp",success:function(e){$("#add_driver_history").show(),$("#add_driver_history_response").html(""),$("#add_driver_history_response").html(e.data.message),setTimeout(function(){$("#add_driver_history_response").html("")},1e4)}})):$("#driver_id").focus()}),$("#add_licence_history").on("click",function(){var e=$("#driver_data").val(),i=now(),a=$("#expiry_date").val(),c=void 0===a||isNaN(a)?!1:!0,r=$("#amount").val(),_=now()+"**"+e;c?($("#add_licence_history").hide(),$.ajax({url:__URL__+"proc/add_licence_history.php",data:{driver_data:e,renewal_date:i,expiry_date:later(a),amount:r,transaction_id:_},dataType:"jsonp",success:function(e){$("#add_licence_history").show(),$("#add_licence_history_response").html(""),$("#add_licence_history_response").html(e.data.message),setTimeout(function(){$("#add_licence_history_response").html("")},1e4)}})):$("#expiry_date").focus()}),$("#add_officer").click(function(){var e=$("#officer_name").val(),i=$("#officer_id").val(),a=$("#officer_station").val();$("#add_officer").hide(),$.ajax({url:__URL__+"proc/add_officer.php",data:{officer_name:e,officer_id:i,officer_station:a,actif:1},dataType:"jsonp",success:function(e){$("#add_officer").show(),$("#add_officer_response").html(""),$("#add_officer_response").html(e.data.message)}})}),$("#add_station").on("click",function(){alert();var e=$("#station_name").val(),i=$("#station_id").val(),a=$("#station_location").val();$("#add_station").hide(),$.ajax({url:__URL__+"proc/add_station.php",data:{station_id:i,station_location:a,station_name:e},dataType:"jsonp",success:function(e){$("#add_station").show(),$("#add_station_response").html(""),$("#add_station_response").html(e.data.message),setTimeout(function(){$("#add_station_response").html("")},1e4)}})}),$("#add_ticket_history").on("click",function(){var e=$("#ticket_comment").val(),i=now(),a=$("#ticket_amount").val(),c=$("#driver_id").val();!a||isNaN(a)?$("#ticket_amount").focus():!e||e.length<5?$("#ticket_comment").focus():c?($("#add_ticket_history").hide(),$.ajax({url:__URL__+"proc/add_ticket_history.php",data:{ticket_amount:a,ticket_comment:e,ticket_date:i,driver_id:c},dataType:"jsonp",success:function(e){$("#add_ticket_history").show(),$("#add_ticket_history_response").html(""),$("#add_ticket_history_response").html(e.data.message),setTimeout(function(){$("#add_ticket_history_response").html("")},1e4)}})):$("#driver_id").focus()}),$("#add_vehicle").on("click",function(){var e=$("#owner_id").val(),i=$("#owner_name").val(),a=$("#owner_licence").val(),c=$("#model").val(),r=$("#make").val(),_=$("#year").val(),n=$("#color").val(),t=$("#weight").val(),o=$("#chasis_number").val(),s=$("#number_plate").val(),d=$("#type").val();$("#add_vehicle").hide(),$.ajax({url:__URL__+"proc/add_vehicle",data:{owner_id:e,owner_name:i,owner_licence:a,model:c,make:r,year:_,color:n,weight:t,chasis_number:o,number_plate:s,type:d},dataType:"jsonp",success:function(e){$("#add_vehicle").show(),$("#add_vehicle_response").html(""),$("#add_vehicle_response").html(e.data.message),setTimeout(function(){$("#add_vehicle_response").html("")},1e4)}})}),$("#add_vehicle_type").on("click",function(){var e=$("#title").val();$("#add_vehicle_type").hide(),$.ajax({url:__URL__+"proc/add_vehicle_type.php",data:{title:e},dataType:"jsonp",success:function(e){$("#add_vehicle_type").show(),$("#add_vehicle_type_response").html(""),$("#add_vehicle_type_response").html(e.data.message),setTimeout(function(){$("#add_vehicle_type_response").html("")},1e4)}})}),$("#add_vehicle_history").on("click",function(){var e=$("#driver_id").val(),i=localStorage.getItem("userID"),a=$("#officer_comment").val(),c=now(),r=$("#vehicle_id").val();$("#add_vehicle_history").hide(),$.ajax({url:__URL__,data:{driver_id:e,officer_id:i,officer_comment:a,event_date:c,vehicle_id:r},dataType:"jsonp",success:function(e){$("#add_vehicle_history").show(),$("#add_vehicle_history_response").html(""),$("#add_vehicle_history_response").html(e.data.message),setTimeout(function(){$("#add_vehicle_history_response").html("")},1e4)}})}),$("#app_add_officer").on("click",function(){var e=$("#id").val(),i=$("#officer_email").val(),a=$("#officer_password").val(),c=$("#officer_telephone").val();$("#app_add_officer").hide(),$.ajax({url:__URL__+"proc/app_add_officer.php",data:{officer_email:i,officer_password:a,officer_telephone:c,id:e},dataType:"json_p",success:function(i){"SUCCESS"===i.response?localStorage.setItem("userID",e):$("#app_add_officer").show()}})})});